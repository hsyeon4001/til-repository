### 클라우드 서비스 AWS(인프런)

---

#### 수업 소개

- S3: simple storage service. 파일 보관 서비스
- S3의 내구성: 최소 3개 이상의 물리적 가용영역(AZ)에 데이터를 분산하는 백업 기능을 의미
- 가용성: 인터넷을 통해 전세계 누구나 파일을 사용할 수 있음. 일종의 파일 서버로 사용 가능
- 이외에도 다양한 기능이 있지만 어느 프로그램이든 기본은 CRUD.

#### 수업의 목적

- 안전하게 파일 보관

#### 구성요소

- 1. 버킷*Bucket*: 하나의 프로젝트
- 2. 폴더: 버킷 안에 존재
- 3. 객체*Object*: =파일. 정확히는 파일과 파일에 추가하는 부가적 정보들을 오브젝트라고 함. 폴더 안에 존재.
- 버킷, 폴더, 오브젝트의 CRUD가 기본

#### 버킷 생성

- 버전 관리: 파일 수정 시 과거 내용 보관해 복원 가능
- 서버 액세스 로깅: 웹 서버 등에서 접근 시 로그 남김
- 기본 암호화: 파일 업로드 시 암호화한 상태로 s3에 보관
- 액세스 관련 설정
  - ACL
    - 새 ACL(액세스 제어 목록)을 통해 부여된 버킷 및 객체에 대한 퍼블릭 액세스 차단: 본인 외 모든 접근 차단
    - 임의의 ACL(액세스 제어 목록)을 통해 부여된 버킷 및 객체에 대한 퍼블릭 액세스 차단: 퍼블릭 접근이 가능한 파일이 업로드되도 비공개로 간주해서 처리됨
    - 버킷을 나만 사용할 경우 ACL은 전부 체크, 일부 파일은 공개가 필요하다면 체크 해제한다고 생각하면 됨

#### 버킷 읽기, 수정, 삭제

- 버킷 읽기: 해당 버킷 이름 눌러서 접근
- 버킷 수정: 이름 외 속성 수정 가능
- 버킷 읽어서 하단 메뉴에서 조정
- 버킷 삭제: 버킷 리스트에서 선택 삭제

#### 폴더

- 버킷과 유사함. 이름 변경 X. 새 폴더 만들어서 데이터 이전

#### 객체파일

- 파일이나 폳더를 통째로 업로드할 수 있음

#### 공유와 권한

- 파일을 다른 사람에게 공유하고 싶을 경우 권한*access* 조정해야 다른 사람이 url 접근이 가능함
- 모든 사람(퍼블릭 액세스)를 읽기로 설정

#### 스토리지 클래스

- 대규모 서비스 운영 시 필요함. 자주 접속하지 않는 파일을 지정해서 요금 조절 가능

#### 요금정책

- 스토리지 요금: 저장 공간에 대한 요금
  - 기본적으로 업로드는 무료, 다운로드부터 비용이 붙음(1GB까지는 무료)
- 요청 요금, S3 스탠다드-IA, S3 One Zone-IA, Amazon Glacier 요청: 데이터 업로드/다운로드 부과 요금(사용 요금). 스토리지 클래스 따라 다름
  - 요청 요금은 GET, SELECT, PUT, COPY, POST, LIST 등 요청 종류에 따라 비용이 다름
- 데이터 전송 요금: 전송한 데이터 크기 부과 요금

#### 수업을 마치며

- web server hosting: 정적 파일 업로드해서 웹 사이트 호스팅 가능(ex: amazon)
- cloudfront: CDN 서비스의 일종
  - CDN*content delivery network*: 데이터를 전 세계의 CDN 서버에 분산 저장해놨다가 요청이 들어오면 가장 가까운 곳에 미리 저장해둔 데이터를 제공해 사용자의 위치에 맞게 더 빠르게 제공 가능
- lifecycle: 데이터의 사용 시간에 따라 스토리지 클래스 자동 분류 가능
