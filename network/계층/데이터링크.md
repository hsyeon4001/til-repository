### 데이터링크 계층
---
#### 역할
- 1) 물리적 주소를 기반으로 데이터의 전송형태를 결정(주소 식별)하고 2) 물리적인 링크를 통해 데이터를 신뢰할 수 있게 전송(오류 감지)
- 주요 프로토콜: Ethernet(데이터를 정상으로 주고받기 위한 규칙)
    - 이더넷은 데이터 충돌 방지를 위해 CSMA/CD 방식을 사용

#### MAC 주소
- MAC*Media Access Control* 주소: = 물리주소. 48비트로 구성되며 앞의 24비트는 랜카드 제조사 번호, 뒤의 24비트는 제조사의 해당 랜카드 일련번호
- 데이터링크 계층 단위: 프레임(MAC주소 + IP 헤더 + TCP 헤더 + 데이터 + 트레일러) 
- 데이터링크 계층의 캡슐화: 이더넷 헤더 & 트레일러
    - 이더넷 헤더(14바이트): 목적지 MAC 주소(6바이트), 출발지 MAC주소(6바이트), 유형(2바이트)
    - 유형: 이더넷 유형. 전송된 상위 계층 프로토콜을 확인하는 용도로 16진수 번호로 표현.
    - 트레일러: = FCS*Frame Check Sequence*. 데이터 전송 중 오류 발생 여부 확인 용도
- 수신 측의 물리 계층에서 전기 신호는 비트열로 변환됨
- 데이터링크 계층에서 비트열의 역캡슐화를 통해 목적지 MAC 주소를 확인함. 만약 수신 컴퓨터의 MAC 주소와 다르면 데이터 파기.
- 두 컴퓨터에서 한 컴퓨터로 데이터 동시 전송 시 충돌 방지를 위해 CSMA/CD 방식 사용됨. 후발 컴퓨터가 충돌을 감지해 잠시 대기한 뒤 다시 데이터 전송함.

#### 스위치
- = 레이어 2 스위치, 스위칭 허브. 데이터링크 계층에서 동작하며 MAC주소 테이블이 존재
    - MAC주소 테이블: 스위치의 포트 번호와 그 포트에 연결된 컴퓨터의 MAC주소가 등록되는 DB
    - MAC주소 학습 기능: 최초의 테이블을 빈 상태이지만 데이터를 수신 받을 때 송신 측 MAC주소를 확인 후 DB에 등록함
- 테이블 내 수신측 MAC주소 여부에 따라 플러딩/필터링 발생
    - 플러딩*flooding*: 스위치에서 모든 포트에 데이터를 송신하는 것
    - 필터링*filtering*: 스위치에서 MAC주소를 기준으로 목적지를 선택하는 것

---

***[용어]***

*CSMA/CD: Carrier Sense Multiple Access with Collision Detection, 반송파 감지 다중 접속 및 충돌 탐지. CS는 데이터 전송 컴퓨터가 케이블에 신호가 흐르는지 확인하는 규칙, MA는 케이블에 데이터가 흐르고 있지 않으면 데이터를 보내도 된다는 규칙, CD는 충돌 발생 확인 규칙*
